(window.webpackJsonp=window.webpackJsonp||[]).push([[41,23,24],{637:function(t,e,o){var content=o(641);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(13).default)("772fa005",content,!0,{sourceMap:!1})},640:function(t,e,o){"use strict";o(637)},641:function(t,e,o){var n=o(12)(!1);n.push([t.i,".dashboard_page__header[data-v-097654ce]{margin-bottom:32px}.dashboard_page__pre[data-v-097654ce]{margin-bottom:12px}.dashboard_page__back[data-v-097654ce]{display:flex;align-items:center;cursor:pointer}.dashboard_page__back_icon[data-v-097654ce]{font-size:18px;color:#7c8286;margin-right:12px}.dashboard_page__back_text[data-v-097654ce]{font-size:14px;line-height:20px;color:#7c8286}.dashboard_page__body[data-v-097654ce]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap}.dashboard_page__title[data-v-097654ce]{font-size:30px;font-weight:600;line-height:32px;color:#b6c8ef}",""]),t.exports=n},643:function(t,e,o){"use strict";o.r(e);var n={props:{title:{type:String,required:!0},btnAddText:{type:String,default:"-"},hasBack:{type:Boolean,default:!1}}},r=(o(640),o(22)),d=o(30),c=o.n(d),l=o(192),_=o(630),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"dashboard_page__header"},[t.hasBack?o("div",{staticClass:"dashboard_page__pre"},[o("div",{staticClass:"dashboard_page__back",on:{click:function(e){return t.$router.go(-1)}}},[o("v-icon",{staticClass:"dashboard_page__back_icon"},[t._v("mdi-arrow-left")]),t._v(" "),o("span",{staticClass:"dashboard_page__back_text"},[t._v(" Volver ")])],1)]):t._e(),t._v(" "),o("div",{staticClass:"dashboard_page__body"},[o("h1",{staticClass:"dashboard_page__title"},[t._v(t._s(t.title))]),t._v(" "),o("v-spacer"),t._v(" "),o("div",{staticClass:"dashboard_page__items"},[t._t("items")],2)],1)])}),[],!1,null,"097654ce",null);e.default=component.exports;c()(component,{VIcon:l.a,VSpacer:_.a})},699:function(t,e,o){var content=o(725);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(13).default)("680a119e",content,!0,{sourceMap:!1})},724:function(t,e,o){"use strict";o(699)},725:function(t,e,o){var n=o(12)(!1);n.push([t.i,".dashboard_card[data-v-0556ba00]{border:1px solid #d1d3d5;padding:24px 32px;background-color:#fff;border-radius:8px}.dashboard_card__header[data-v-0556ba00]{display:flex;justify-content:space-between;margin-bottom:16px}.dashboard_card__title[data-v-0556ba00]{font-size:14px;font-weight:600;line-height:16px;color:#b6c8ef}",""]),t.exports=n},740:function(t,e,o){var content=o(840);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(13).default)("5b6d10e7",content,!0,{sourceMap:!1})},745:function(t,e,o){"use strict";o.r(e);var n={props:{title:{type:String,required:!0}}},r=(o(724),o(22)),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"dashboard_card"},[o("div",{staticClass:"dashboard_card__header"},[o("h3",{staticClass:"dashboard_card__title"},[t._v(t._s(t.title))]),t._v(" "),t._t("items")],2),t._v(" "),t._t("default")],2)}),[],!1,null,"0556ba00",null);e.default=component.exports},839:function(t,e,o){"use strict";o(740)},840:function(t,e,o){var n=o(12)(!1);n.push([t.i,"",""]),t.exports=n},853:function(t,e,o){"use strict";o.r(e);o(41),o(59);var n=o(11),r=o(745),d=o(643),c=o(847),l=(o(165),o(450)),_={data:function(){return{modal:{data:{},active:!1,isLoading:!1}}},methods:{setModal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.active,o=void 0===e?"":e,n=t.data,data=void 0===n?{}:n,r=t.isLoading,d=void 0!==r&&r;this.modal.active=o,this.modal.isLoading=d,this.modal.data=data},closeModal:function(){this.setModal({active:"",data:{}})},loadingModal:function(){this.modal.isLoading=!0},findIndexById:function(t,e){return Object(l.findIndex)(t,["_id",e])},updateItemIsLoadingProp:function(t,e,o){this.$set(t[this.findIndexById(t,e)],"isLoading",o)},deleteItem:function(t,e){var o=Object(l.findIndex)(t,["_id",e]);t.splice(o,1)},updateItem:function(t,e,data){var o=Object(l.findIndex)(t,["_id",e]);t.splice(o,1,data)},addItem:function(t,data){t.push(data)}}},v=(o(265),{mixins:[_],components:{DashboardPageHeader:d.default,DashboardCard:r.default,ModalFormNewScholar:c.default},data:function(){return{isFirstLoading:!0,scholars:[],headers:[{text:"Nombre",value:"name"},{text:"Promedio",value:"average"},{text:"Sin reclamar",value:"unclaimed"},{text:"Reclamado",value:"claimed"},{text:"Total",value:"total"},{text:"Ultimo reclamo",value:"lastClaimDateDay"},{text:"Acciones",value:"actions",sortable:!1}]}},mounted:function(){this.isFirstLoading=!1},methods:{addScholar:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function o(){var n,r,d,c,l,_,v;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.name,r=t.ethAddress,o.prev=1,o.next=4,e.$axios.$get("https://lunacia.skymavis.com/game-api/clients/".concat(r,"/items/1"));case 4:d=o.sent,c=new Date(1e3*d.last_claimed_item_at),l=e.$moment(c,"DD-MM-YYYY"),(_=new Date).setHours(21),_.setMinutes(0),_.setSeconds(0),v=e.$moment(new Date,"DD-MM-YYYY"),e.scholars.push({name:n,ethAddress:r,unclaimed:d.total,claimed:d.claimable_total,total:d.total,lastClaimDateDay:v.diff(l,"days")}),o.next=18;break;case 15:o.prev=15,o.t0=o.catch(1),console.log({error:o.t0});case 18:return o.prev=18,o.finish(18);case 20:case"end":return o.stop()}}),o,null,[[1,15,18,20]])})))()}}}),f=(o(839),o(22)),m=o(30),h=o.n(m),x=o(620),y=o(851),k=o(192),w=o(194),C=o(115),D=o(89),M=o(748),component=Object(f.a)(v,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"project"},[o("div",{staticClass:"project__container custom_container custom_container_fluid"},[o("DashboardPageHeader",{attrs:{title:"Becarios",btnAddText:"Agregar becario"},on:{click:function(e){return t.setModal({active:"scholar_new",data:{ethAddress:""}})}}}),t._v(" "),o("v-data-table",{staticClass:"v-data-table--custom",attrs:{headers:t.headers,items:t.scholars,"mobile-breakpoint":"0","loading-text":"Cargando becarios","no-data-text":"No hay becarios cargados",loading:t.isFirstLoading},scopedSlots:t._u([{key:"item.name",fn:function(e){var n=e.item;return[o("a",{attrs:{href:"https://marketplace.axieinfinity.com/profile/"+n+"/axie"}},[t._v("\n          "+t._s(n.name)+"\n        ")])]}},{key:"item.lastClaimDateDay",fn:function(e){var o=e.item;return[t._v("\n        "+t._s(o.lastClaimDateDay)+" d√≠as\n      ")]}},{key:"item.average",fn:function(e){var o=e.item;return[t._v("\n        "+t._s((o.total/o.lastClaimDateDay).toFixed(2))+"\n      ")]}},{key:"item.actions",fn:function(e){var n=e.item;return[o("v-menu",{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,r=e.attrs;return[o("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",r,!1),n),[o("v-icon",[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[t._v(" "),o("v-list",[o("v-list-item",{on:{click:function(e){return t.setModal({active:"scholar_update",data:n})}}},[o("v-list-item-content",[o("v-list-item-title",[t._v("Editar becarios")])],1)],1),t._v(" "),o("v-list-item",{attrs:{disabled:n.isLoading}},[o("v-list-item-content",[o("v-list-item-title",[t._v("Eliminar becarios")])],1)],1)],1)],1)]}}])})],1),t._v(" "),o("ModalFormNewScholar",{attrs:{active:"scholar_new"===t.modal.active,data:t.modal.data,isLoading:t.modal.isLoading},on:{close:t.closeModal,submit:t.addScholar}})],1)}),[],!1,null,"1fc16f55",null);e.default=component.exports;h()(component,{VBtn:x.a,VDataTable:y.a,VIcon:k.a,VList:w.a,VListItem:C.a,VListItemContent:D.a,VListItemTitle:D.b,VMenu:M.a})}}]);