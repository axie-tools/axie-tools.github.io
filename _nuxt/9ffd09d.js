(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{731:function(e,t,n){var content=n(784);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(15).default)("1203551d",content,!0,{sourceMap:!1})},732:function(e,t,n){var content=n(786);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(15).default)("15f14654",content,!0,{sourceMap:!1})},781:function(e,t,n){e.exports=n.p+"img/bg-damage.0ffa88c.png"},782:function(e,t,n){e.exports=n.p+"img/icon-damage.f807609.png"},783:function(e,t,n){"use strict";n(731)},784:function(e,t,n){var r=n(14)(!1);r.push([e.i,".card_damage[data-v-4221abe4]{position:relative;width:48px}.card_damage__bg[data-v-4221abe4]{width:100%}.card_damage__value[data-v-4221abe4]{z-index:2;font-size:24px;font-weight:900;text-shadow:#83152b -2px 0,#83152b 0 2px,#83152b 2px 0,#83152b 0 -2px}.card_damage__icon_container[data-v-4221abe4],.card_damage__value[data-v-4221abe4]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.card_damage__icon_container[data-v-4221abe4]{width:66%}.card_damage__icon[data-v-4221abe4]{width:100%}",""]),e.exports=r},785:function(e,t,n){"use strict";n(732)},786:function(e,t,n){var r=n(14)(!1);r.push([e.i,".card_image[data-v-3eef533e]{max-width:64px;min-width:64px;padding-top:16px;padding-bottom:16px}.deactivate[data-v-3eef533e]{opacity:0}",""]),e.exports=r},787:function(e,t,n){var content=n(788);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(15).default)("12a190a6",content,!0,{sourceMap:!1})},788:function(e,t,n){var r=n(14)(!1);r.push([e.i,".v-input--checkbox.v-input--indeterminate.v-input--is-disabled{opacity:.6}",""]),e.exports=r},820:function(e,t,n){"use strict";n.r(t);n(21),n(33),n(54),n(22),n(44),n(455),n(70),n(56);var r=n(12),c=n(45),l=n(3),o=n(666),d=n(660),f=n(667),m=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card_damage__icon_container"},[t("img",{staticClass:"card_damage__icon",attrs:{src:n(782),alt:""}})])}],x={props:{damage:{type:Number,required:!0}}},v=(n(783),n(24)),h=Object(v.a)(x,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card_damage"},[r("img",{staticClass:"card_damage__bg",attrs:{src:n(781),alt:""}}),e._v(" "),r("div",{staticClass:"card_damage__value"},[e._v("\n    "+e._s(e.damage)+"\n  ")]),e._v(" "),e._m(0)])}),m,!1,null,"4221abe4",null).exports,_=n(678),C=n(659),y=n(677),k=n(117);function O(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function w(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var D={head:function(){var title="".concat(this.$t("consts.TOOLS_URLS.cards.title")," | Axie tools"),e=this.$nuxtI18nHead({addSeoAttributes:!0});return{title:title,htmlAttrs:w({},e.htmlAttrs),meta:[].concat(Object(c.a)(Object(C.a)({title:title,description:this.$t("consts.TOOLS_URLS.damage-calculator.description")})),Object(c.a)(e.meta)),link:Object(c.a)(e.link)}},components:{DashboardPageHeader:d.a,CardImage:f.a,CardDamage:h,AxieClasses:_.a},data:function(){return{form:{axie1:null,axie2:null,axie3:null},axiesCards:{axie1:null,axie2:null,axie3:null},axiesDetails:{axie1:null,axie2:null,axie3:null}}},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.$route.query,r=n.axie1,c=n.axie2,l=n.axie3,!r){t.next=5;break}return e.form.axie1=Number(r),t.next=5,e.getAxieInfo("axie1",e.form.axie1);case 5:if(!c){t.next=9;break}return e.form.axie2=Number(c),t.next=9,e.getAxieInfo("axie2",e.form.axie2);case 9:if(!l){t.next=13;break}return e.form.axie3=Number(l),t.next=13,e.getAxieInfo("axie3",e.form.axie3);case 13:case"end":return t.stop()}}),t)})))()},computed:{headers:function(){return[{text:this.$t("pages.damage_calculator.headers.ability_id"),sortable:!1,value:"abilityId"},{text:this.$t("pages.damage_calculator.headers.use"),sortable:!1,value:"use"},{text:this.$t("pages.damage_calculator.headers.critical"),sortable:!1,value:"critical"},{text:this.$t("pages.damage_calculator.headers.effect"),sortable:!1,value:"effect"},{text:this.$t("pages.damage_calculator.headers.advantage"),sortable:!1,align:"center",value:"advantage"},{text:this.$t("pages.damage_calculator.headers.neutral"),sortable:!1,align:"center",value:"neutral"},{text:this.$t("pages.damage_calculator.headers.disadvantage"),sortable:!1,align:"center",value:"disadvantage"}]}},methods:{cleanTable:function(e){this.axiesCards[e]=this.axiesCards[e].map((function(e){return w(w({},e),{},{isUse:!1,isCritical:!1,hasEffect:!1,attackUp:null,attackDown:null,advantage:0,neutral:0,disadvantage:0})}))},getAxiesCounters:function(e){var t=["beast","bug","mech"],n=["aquatic","bird","dawn"],r=["dusk","plant","reptile"];return"beast-bug-mech".includes(e)?{advantage:r,neutral:t,disadvantage:n}:"aquatic-bird-dawn".includes(e)?{advantage:t,neutral:n,disadvantage:r}:{advantage:n,neutral:r,disadvantage:t}},getAxieInfo:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n.$apollo.query(Object(y.b)(t));case 3:c=r.sent,console.log(e,n.axiesCards[e],c.data.axie),n.axiesDetails[e]=c.data.axie,n.axiesCards[e]=[c.data.axie.parts[3],c.data.axie.parts[3],c.data.axie.parts[4],c.data.axie.parts[4],c.data.axie.parts[2],c.data.axie.parts[2],c.data.axie.parts[5],c.data.axie.parts[5]].map((function(e,t){return w(w({},e),{},{abilityId:e.abilities[0].id,id:t})})).map((function(e){return w(w({},e),{},{isUse:!1,isCritical:!1,hasEffect:!1,attackUp:null,attackDown:null,advantage:0,neutral:0,disadvantage:0})})),console.log(n.axiesCards[e]),n.loadDamage(e),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),console.log(r.t0);case 14:case"end":return r.stop()}}),r,null,[[0,11]])})))()},loadDamage:function(e){var t=this,details=this.axiesDetails[e],n=this.axiesCards[e].reduce((function(e,t){return t.isUse?e+1:e}),0)>=2;this.axiesCards[e].forEach((function(r,c){var l=Object(o.get)(k.d,r.abilityId,null),d={cardDamage:r.abilities[0].attack,cardEffect:r.hasEffect?l:null,axieClass:details.class,axieSkill:details.stats.skill,axieMorale:details.stats.morale,isCritical:r.isCritical,cardClass:r.class,isCombo:n};t.$set(t.axiesCards[e][c],"advantage",r.isUse?t.calcDamage(w(w({},d),{},{counterType:"advantage"})):0),t.$set(t.axiesCards[e][c],"neutral",r.isUse?t.calcDamage(w(w({},d),{},{counterType:null})):0),t.$set(t.axiesCards[e][c],"disadvantage",r.isUse?t.calcDamage(w(w({},d),{},{counterType:"disadvantage"})):0)}))},calcDamage:function(e){var t=e.cardClass,n=void 0===t?null:t,r=e.counterType,c=void 0===r?null:r,l=e.cardDamage,d=void 0===l?null:l,f=e.cardEffect,m=void 0===f?null:f,x=e.axieClass,v=void 0===x?null:x,h=e.axieSkill,_=void 0===h?null:h,C=e.axieMorale,y=void 0===C?null:C,k=e.isCritical,O=void 0!==k&&k,w=e.isCombo,D=void 0!==w&&w;if(null!==d&&null!==v&&null!==_&&null!==y){if(0===d)return 0;var j=n==v,I=Object(o.get)(m,"type",null),$=Object(o.get)(m,"value",null);console.log({cardEffectType:I,cardEffectValue:$});var E=d;switch(c){case"advantage":console.log("advantage"),E*=1.15;break;case"disadvantage":console.log("disadvantage"),E*=.85}return console.log({result:E}),j&&(console.log("isSameClass"),E*=1.1),console.log({result:E}),"PERCENTAGE"===I&&(console.log("hasEffect"),E*=$),console.log({result:E}),(O||"CRITICAL"===I)&&(console.log("isCritical"),E*=(10*Math.sqrt(y)+.4*y-18)/100+1),D&&(console.log("isCombo"),E+=.55*_-12.5),"STRIKE"===I?Math.floor(E)*$:Math.floor(E)}},calcCounterType:function(e,t){var n=["Beast","Bug","Mech"],r=["Aquatic","Bird","Dawn"],c=["Dusk","Plant","Reptile"];return n.includes(e)&&n.includes(t)||r.includes(e)&&r.includes(t)||c.includes(e)&&c.includes(t)?null:n.includes(e)&&c.includes(t)||c.includes(e)&&r.includes(t)||r.includes(e)&&n.includes(t)?"advantage":"disadvantage"}}},j=(n(785),n(31)),I=n.n(j),$=n(641),E=(n(25),n(71),n(787),n(724),n(91)),A=n(679);function S(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function P(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?S(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):S(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var U=n(742).a.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data:function(){return{inputIndeterminate:this.indeterminate}},computed:{classes:function(){return P(P({},A.a.options.computed.classes.call(this)),{},{"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate})},computedIcon:function(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState:function(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate:function(e){var t=this;this.$nextTick((function(){return t.inputIndeterminate=e}))},inputIndeterminate:function(e){this.$emit("update:indeterminate",e)},isActive:function(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(E.a,this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",P(P({},this.attrs$),{},{"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()})),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot:function(){return[this.genCheckbox(),this.genLabel()]}}}),T=n(718),M=n(819),R=n(723),L=n(171),V=n(719),N=n(813),z=Object(v.a)(D,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"damage_calculator mb_15"},[n("div",{staticClass:"\n      damage_calculator__container\n      custom_container custom_container_fluid\n    "},[n("DashboardPageHeader",{attrs:{title:e.$t("pages.damage_calculator.title")}}),e._v(" "),e._l(3,(function(i){return n("div",{key:i},[1!==i?n("v-divider",{staticClass:"my-15"}):e._e(),e._v(" "),e.axiesDetails["axie"+i]?n("v-img",{attrs:{src:e.axiesDetails["axie"+i].image,"max-width":"192px"}}):e._e(),e._v(" "),n("v-row",[n("v-col",{attrs:{cols:"12",md:"6",lg:"3"}},[n("v-text-field",{attrs:{"hide-details":"",label:"Axie "+i,placeholder:"1578813"},on:{blur:function(t){return e.getAxieInfo("axie"+i,e.form["axie"+i])}},model:{value:e.form["axie"+i],callback:function(t){e.$set(e.form,"axie"+i,e._n(t))},expression:"form[`axie${i}`]"}})],1),e._v(" "),e.form["axie"+i]?n("v-col",{attrs:{cols:"12",md:"6",lg:"3"}},[n("v-btn",{attrs:{outlined:""},on:{click:function(t){return e.cleanTable("axie"+i)}}},[e._v("\n            "+e._s(e.$t("pages.damage_calculator.clean_table"))+"\n          ")])],1):e._e()],1),e._v(" "),e.axiesCards["axie"+i]?n("v-data-table",{staticClass:"mt-5 elevation-1",attrs:{headers:e.headers,items:e.axiesCards["axie"+i],"items-per-page":-1,"hide-default-footer":""},scopedSlots:e._u([{key:"item.abilityId",fn:function(t){var r=t.item;return[n("div",{staticClass:"d-flex align-center"},[n("CardImage",{staticClass:"card_image mr-4",attrs:{cardItem:{id:r.abilityId,partName:r.abilities[0].name,skillName:r.name,class:r.class}}}),e._v(" "),n("AxieClasses",{attrs:{name:r.class.toLowerCase(),size:"32"}})],1)]}},{key:"item.use",fn:function(t){var r=t.item;t.index;return[n("v-checkbox",{attrs:{color:"white"},on:{change:function(t){return e.loadDamage("axie"+i)}},model:{value:r.isUse,callback:function(t){e.$set(r,"isUse",t)},expression:"item.isUse"}})]}},{key:"item.critical",fn:function(t){var r=t.item;t.index;return[n("v-checkbox",{attrs:{color:"white"},on:{change:function(t){return e.loadDamage("axie"+i)}},model:{value:r.isCritical,callback:function(t){e.$set(r,"isCritical",t)},expression:"item.isCritical"}})]}},{key:"item.effect",fn:function(t){var r=t.item;t.index;return[n("v-checkbox",{attrs:{color:"white"},on:{change:function(t){return e.loadDamage("axie"+i)}},model:{value:r.hasEffect,callback:function(t){e.$set(r,"hasEffect",t)},expression:"item.hasEffect"}})]}},{key:"item.attackUp",fn:function(t){var r=t.item;return[n("v-text-field",{staticStyle:{"max-width":"40px"},attrs:{type:"number",min:"0"},model:{value:r.attackUp,callback:function(t){e.$set(r,"attackUp",e._n(t))},expression:"item.attackUp"}})]}},{key:"item.attackDown",fn:function(t){var r=t.item;return[n("v-text-field",{staticStyle:{"max-width":"40px"},attrs:{type:"number",min:"0"},model:{value:r.attackDown,callback:function(t){e.$set(r,"attackDown",e._n(t))},expression:"item.attackDown"}})]}},{key:"item.advantage",fn:function(t){var r=t.item;return[n("div",{staticClass:"d-flex flex-column justify-center align-center",class:{deactivate:!r.isUse}},[n("CardDamage",{attrs:{damage:r.advantage}}),e._v(" "),n("div",{staticClass:"d-flex mt-3"},e._l(e.getAxiesCounters(r.class.toLowerCase()).advantage,(function(e){return n("AxieClasses",{key:e,staticClass:"mx-2",attrs:{name:e,size:"32"}})})),1)],1)]}},{key:"item.neutral",fn:function(t){var r=t.item;return[n("div",{staticClass:"d-flex flex-column justify-center align-center",class:{deactivate:!r.isUse}},[n("CardDamage",{attrs:{damage:r.neutral}}),e._v(" "),n("div",{staticClass:"d-flex mt-3"},e._l(e.getAxiesCounters(r.class.toLowerCase()).neutral,(function(e){return n("AxieClasses",{key:e,staticClass:"mx-2",attrs:{name:e,size:"32"}})})),1)],1)]}},{key:"item.disadvantage",fn:function(t){var r=t.item;return[n("div",{staticClass:"d-flex flex-column justify-center align-center",class:{deactivate:!r.isUse}},[n("CardDamage",{attrs:{damage:r.disadvantage}}),e._v(" "),n("div",{staticClass:"d-flex mt-3"},e._l(e.getAxiesCounters(r.class.toLowerCase()).disadvantage,(function(e){return n("AxieClasses",{key:e,staticClass:"mx-2",attrs:{name:e,size:"32"}})})),1)],1)]}},{key:"body.append",fn:function(t){return[n("tr",{},[n("td",{staticClass:"text-start"}),e._v(" "),n("td",{staticClass:"text-start"}),e._v(" "),n("td",{staticClass:"text-start"}),e._v(" "),n("td",{staticClass:"text-start"}),e._v(" "),n("td",{staticClass:"text-center"},[n("div",{staticClass:"my-5 d-flex flex-column justify-center align-center"},[n("CardDamage",{attrs:{damage:e.axiesCards["axie"+i].reduce((function(e,t){return e+t.advantage}),0)}})],1)]),e._v(" "),n("td",{staticClass:"text-center"},[n("div",{staticClass:"my-5 d-flex flex-column justify-center align-center"},[n("CardDamage",{attrs:{damage:e.axiesCards["axie"+i].reduce((function(e,t){return e+t.neutral}),0)}})],1)]),e._v(" "),n("td",{staticClass:"text-center"},[n("div",{staticClass:"my-5 d-flex flex-column justify-center align-center"},[n("CardDamage",{attrs:{damage:e.axiesCards["axie"+i].reduce((function(e,t){return e+t.disadvantage}),0)}})],1)])])]}}],null,!0)}):e._e()],1)}))],2)])}),[],!1,null,"3eef533e",null);t.default=z.exports;I()(z,{VBtn:$.a,VCheckbox:U,VCol:T.a,VDataTable:M.a,VDivider:R.a,VImg:L.a,VRow:V.a,VTextField:N.a})}}]);