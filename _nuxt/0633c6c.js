(window.webpackJsonp=window.webpackJsonp||[]).push([[51,23,28],{631:function(t,e,o){var content=o(641);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(13).default)("772fa005",content,!0,{sourceMap:!1})},640:function(t,e,o){"use strict";o(631)},641:function(t,e,o){var n=o(12)(!1);n.push([t.i,".dashboard_page__header[data-v-097654ce]{margin-bottom:32px}.dashboard_page__pre[data-v-097654ce]{margin-bottom:12px}.dashboard_page__back[data-v-097654ce]{display:flex;align-items:center;cursor:pointer}.dashboard_page__back_icon[data-v-097654ce]{font-size:18px;color:#7c8286;margin-right:12px}.dashboard_page__back_text[data-v-097654ce]{font-size:14px;line-height:20px;color:#7c8286}.dashboard_page__body[data-v-097654ce]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap}.dashboard_page__title[data-v-097654ce]{font-size:30px;font-weight:600;line-height:32px;color:#b6c8ef}",""]),t.exports=n},646:function(t,e,o){"use strict";o.r(e);var n={props:{title:{type:String,required:!0},btnAddText:{type:String,default:"-"},hasBack:{type:Boolean,default:!1}}},r=(o(640),o(22)),d=o(30),c=o.n(d),l=o(188),m=o(621),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"dashboard_page__header"},[t.hasBack?o("div",{staticClass:"dashboard_page__pre"},[o("div",{staticClass:"dashboard_page__back",on:{click:function(e){return t.$router.go(-1)}}},[o("v-icon",{staticClass:"dashboard_page__back_icon"},[t._v("mdi-arrow-left")]),t._v(" "),o("span",{staticClass:"dashboard_page__back_text"},[t._v(" Volver ")])],1)]):t._e(),t._v(" "),o("div",{staticClass:"dashboard_page__body"},[o("h1",{staticClass:"dashboard_page__title"},[t._v(t._s(t.title))]),t._v(" "),o("v-spacer"),t._v(" "),o("div",{staticClass:"dashboard_page__items"},[t._t("items")],2)],1)])}),[],!1,null,"097654ce",null);e.default=component.exports;c()(component,{VIcon:l.a,VSpacer:m.a})},728:function(t,e,o){var content=o(744);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(13).default)("680a119e",content,!0,{sourceMap:!1})},743:function(t,e,o){"use strict";o(728)},744:function(t,e,o){var n=o(12)(!1);n.push([t.i,".dashboard_card[data-v-0556ba00]{border:1px solid #d1d3d5;padding:24px 32px;background-color:#fff;border-radius:8px}.dashboard_card__header[data-v-0556ba00]{display:flex;justify-content:space-between;margin-bottom:16px}.dashboard_card__title[data-v-0556ba00]{font-size:14px;font-weight:600;line-height:16px;color:#b6c8ef}",""]),t.exports=n},760:function(t,e,o){var content=o(838);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(13).default)("2bc7d000",content,!0,{sourceMap:!1})},769:function(t,e,o){"use strict";o.r(e);var n={props:{title:{type:String,required:!0}}},r=(o(743),o(22)),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"dashboard_card"},[o("div",{staticClass:"dashboard_card__header"},[o("h3",{staticClass:"dashboard_card__title"},[t._v(t._s(t.title))]),t._v(" "),t._t("items")],2),t._v(" "),t._t("default")],2)}),[],!1,null,"0556ba00",null);e.default=component.exports},770:function(t,e,o){"use strict";o.r(e);o(43);var n=o(645),r={mixins:[o(648).a],validations:{form:{name:{required:n.required}}},data:function(){return{fieldsPick:["name","_id"]}},computed:{nameErrors:function(){return this.vuelidateErrors(this.$v.form.name,"name")}}},d=o(22),c=o(30),l=o.n(c),m=o(852),component=Object(d.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ModalForm",{attrs:{isLoading:t.isLoading,isDisabled:t.$v.$invalid,title:"Actualizar proyecto"},on:{submit:t.submitForm},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-text-field",{attrs:{label:"Nombre (*)",required:"","error-messages":t.nameErrors,autofocus:""},on:{input:function(e){return t.$v.form.name.$touch()},blur:function(e){return t.$v.form.name.$touch()}},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)}),[],!1,null,"307667e0",null);e.default=component.exports;l()(component,{VTextField:m.a})},837:function(t,e,o){"use strict";o(760)},838:function(t,e,o){var n=o(12)(!1);n.push([t.i,"",""]),t.exports=n},857:function(t,e,o){"use strict";o.r(e);o(43),o(58);var n=o(11),r=o(769),d=o(646),c=o(851),l=o(770),m=(o(162),o(443)),_={data:function(){return{modal:{data:{},active:!1,isLoading:!1}}},methods:{setModal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.active,o=void 0===e?"":e,n=t.data,data=void 0===n?{}:n,r=t.isLoading,d=void 0!==r&&r;this.modal.active=o,this.modal.isLoading=d,this.modal.data=data},closeModal:function(){this.setModal({active:"",data:{}})},loadingModal:function(){this.modal.isLoading=!0},findIndexById:function(t,e){return Object(m.findIndex)(t,["_id",e])},updateItemIsLoadingProp:function(t,e,o){this.$set(t[this.findIndexById(t,e)],"isLoading",o)},deleteItem:function(t,e){var o=Object(m.findIndex)(t,["_id",e]);t.splice(o,1)},updateItem:function(t,e,data){var o=Object(m.findIndex)(t,["_id",e]);t.splice(o,1,data)},addItem:function(t,data){t.push(data)}}},f=(o(263),{mixins:[_],components:{DashboardPageHeader:d.default,DashboardCard:r.default,ModalFormNewScholar:c.default,ModalFormUpdateProject:l.default},data:function(){return{isFirstLoading:!0,scholars:[],headers:[{text:"Nombre",value:"name"},{text:"Promedio",value:"average"},{text:"Sin reclamar",value:"unclaimed"},{text:"Reclamado",value:"claimed"},{text:"Total",value:"total"},{text:"Ultimo reclamo",value:"lastClaimDateDay"},{text:"Acciones",value:"actions",sortable:!1}]}},mounted:function(){this.isFirstLoading=!1},methods:{addScholar:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function o(){var n,r,d,c,l,m,_;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.name,r=t.ethAddress,o.prev=1,o.next=4,e.$axios.$get("https://lunacia.skymavis.com/game-api/clients/".concat(r,"/items/1"));case 4:d=o.sent,c=new Date(1e3*d.last_claimed_item_at),l=e.$moment(c,"DD-MM-YYYY"),(m=new Date).setHours(21),m.setMinutes(0),m.setSeconds(0),_=e.$moment(new Date,"DD-MM-YYYY"),e.scholars.push({name:n,ethAddress:r,unclaimed:d.total,claimed:d.claimable_total,total:d.total,lastClaimDateDay:_.diff(l,"days")}),o.next=18;break;case 15:o.prev=15,o.t0=o.catch(1),console.log({error:o.t0});case 18:return o.prev=18,o.finish(18);case 20:case"end":return o.stop()}}),o,null,[[1,15,18,20]])})))()}}}),v=(o(837),o(22)),h=o(30),x=o.n(h),y=o(611),k=o(855),M=o(188),w=o(190),C=o(114),D=o(104),L=o(755),component=Object(v.a)(f,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"project"},[o("div",{staticClass:"project__container custom_container custom_container_fluid"},[o("DashboardPageHeader",{attrs:{title:"Becarios",btnAddText:"Agregar becario"},on:{click:function(e){return t.setModal({active:"scholar_new",data:{ethAddress:""}})}}}),t._v(" "),o("v-data-table",{staticClass:"v-data-table--custom",attrs:{headers:t.headers,items:t.scholars,"mobile-breakpoint":"0","loading-text":"Cargando becarios","no-data-text":"No hay becarios cargados",loading:t.isFirstLoading},scopedSlots:t._u([{key:"item.name",fn:function(e){var n=e.item;return[o("a",{attrs:{href:"https://marketplace.axieinfinity.com/profile/"+n+"/axie"}},[t._v("\n          "+t._s(n.name)+"\n        ")])]}},{key:"item.lastClaimDateDay",fn:function(e){var o=e.item;return[t._v("\n        "+t._s(o.lastClaimDateDay)+" d√≠as\n      ")]}},{key:"item.average",fn:function(e){var o=e.item;return[t._v("\n        "+t._s((o.total/o.lastClaimDateDay).toFixed(2))+"\n      ")]}},{key:"item.actions",fn:function(e){var n=e.item;return[o("v-menu",{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,r=e.attrs;return[o("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",r,!1),n),[o("v-icon",[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[t._v(" "),o("v-list",[o("v-list-item",{on:{click:function(e){return t.setModal({active:"scholar_update",data:n})}}},[o("v-list-item-content",[o("v-list-item-title",[t._v("Editar becarios")])],1)],1),t._v(" "),o("v-list-item",{attrs:{disabled:n.isLoading}},[o("v-list-item-content",[o("v-list-item-title",[t._v("Eliminar becarios")])],1)],1)],1)],1)]}}])})],1),t._v(" "),o("ModalFormNewScholar",{attrs:{active:"scholar_new"===t.modal.active,data:t.modal.data,isLoading:t.modal.isLoading},on:{close:t.closeModal,submit:t.addScholar}})],1)}),[],!1,null,"532163b4",null);e.default=component.exports;x()(component,{VBtn:y.a,VDataTable:k.a,VIcon:M.a,VList:w.a,VListItem:C.a,VListItemContent:D.a,VListItemTitle:D.b,VMenu:L.a})}}]);