(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{731:function(e,t,n){var content=n(784);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(15).default)("1203551d",content,!0,{sourceMap:!1})},732:function(e,t,n){var content=n(786);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(15).default)("41db2785",content,!0,{sourceMap:!1})},781:function(e,t,n){e.exports=n.p+"img/bg-damage.0ffa88c.png"},782:function(e,t,n){e.exports=n.p+"img/icon-damage.f807609.png"},783:function(e,t,n){"use strict";n(731)},784:function(e,t,n){var r=n(14)(!1);r.push([e.i,".card_damage[data-v-4221abe4]{position:relative;width:48px}.card_damage__bg[data-v-4221abe4]{width:100%}.card_damage__value[data-v-4221abe4]{z-index:2;font-size:24px;font-weight:900;text-shadow:#83152b -2px 0,#83152b 0 2px,#83152b 2px 0,#83152b 0 -2px}.card_damage__icon_container[data-v-4221abe4],.card_damage__value[data-v-4221abe4]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.card_damage__icon_container[data-v-4221abe4]{width:66%}.card_damage__icon[data-v-4221abe4]{width:100%}",""]),e.exports=r},785:function(e,t,n){"use strict";n(732)},786:function(e,t,n){var r=n(14)(!1);r.push([e.i,".card_image[data-v-1e2a21f8]{max-width:40px;min-width:40px;padding-top:4px;padding-bottom:4px}.deactivate[data-v-1e2a21f8]{opacity:0}",""]),e.exports=r},787:function(e,t,n){var content=n(788);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(15).default)("12a190a6",content,!0,{sourceMap:!1})},788:function(e,t,n){var r=n(14)(!1);r.push([e.i,".v-input--checkbox.v-input--indeterminate.v-input--is-disabled{opacity:.6}",""]),e.exports=r},820:function(e,t,n){"use strict";n.r(t);n(21),n(33),n(54),n(22),n(455),n(70),n(56);var r=n(12),c=n(45),l=n(3),o=n(666),d=n(660),f=n(667),m=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card_damage__icon_container"},[t("img",{staticClass:"card_damage__icon",attrs:{src:n(782),alt:""}})])}],x={props:{damage:{type:Number,required:!0}}},v=(n(783),n(24)),h=Object(v.a)(x,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card_damage"},[r("img",{staticClass:"card_damage__bg",attrs:{src:n(781),alt:""}}),e._v(" "),r("div",{staticClass:"card_damage__value"},[e._v("\n    "+e._s(e.damage)+"\n  ")]),e._v(" "),e._m(0)])}),m,!1,null,"4221abe4",null).exports,C=n(678),_=n(659),k=n(677),y=n(117);function O(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function w(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var D={head:function(){var title="".concat(this.$t("consts.TOOLS_URLS.cards.title")," | Axie tools"),e=this.$nuxtI18nHead({addSeoAttributes:!0});return{title:title,htmlAttrs:w({},e.htmlAttrs),meta:[].concat(Object(c.a)(Object(_.a)({title:title,description:this.$t("consts.TOOLS_URLS.damage-calculator.description")})),Object(c.a)(e.meta)),link:Object(c.a)(e.link)}},components:{DashboardPageHeader:d.a,CardImage:f.a,CardDamage:h,AxieClasses:C.a},data:function(){return{axieClassesCritical:["beast","bug","mech"],axieClassesSpeed:["aquatic","bird","dawn"],axieClassesTank:["dusk","plant","reptile"],form:{axie1:null,axie2:null,axie3:null},axiesCards:{axie1:null,axie2:null,axie3:null},axiesDetails:{axie1:null,axie2:null,axie3:null}}},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.$route.query,r=n.axie1,c=n.axie2,l=n.axie3,!r){t.next=5;break}return e.form.axie1=Number(r),t.next=5,e.getAxieInfo("axie1",e.form.axie1);case 5:if(!c){t.next=9;break}return e.form.axie2=Number(c),t.next=9,e.getAxieInfo("axie2",e.form.axie2);case 9:if(!l){t.next=13;break}return e.form.axie3=Number(l),t.next=13,e.getAxieInfo("axie3",e.form.axie3);case 13:case"end":return t.stop()}}),t)})))()},computed:{headers:function(){return[{text:this.$t("pages.damage_calculator.headers.ability_id"),sortable:!1,value:"abilityId"},{text:this.$t("pages.damage_calculator.headers.use"),sortable:!1,value:"use"},{text:this.$t("pages.damage_calculator.headers.critical"),sortable:!1,value:"isCritical"},{text:this.$t("pages.damage_calculator.headers.effect"),sortable:!1,value:"effect"},{sortable:!1,align:"center",value:"critical"},{sortable:!1,align:"center",value:"tank"},{sortable:!1,align:"center",value:"speed"}]}},methods:{makeUri:function(){var e=this.form,t=e.axie1,n=e.axie2,r=e.axie3;this.$router.push(this.localePath({name:"damage-calculator",query:{axie1:t,axie2:n,axie3:r}}))},cleanTable:function(e){this.axiesCards[e]=this.axiesCards[e].map((function(e){return w(w({},e),{},{isUse:!1,isCritical:!1,hasEffect:!1,attackUp:null,attackDown:null,tank:0,critical:0,speed:0})}))},getAxieInfo:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=4;break}return n.axiesDetails[e]=null,n.axiesCards[e]=null,r.abrupt("return");case 4:return r.prev=4,r.next=7,n.$apollo.query(Object(k.b)(t));case 7:c=r.sent,n.axiesDetails[e]=c.data.axie,n.axiesCards[e]=[c.data.axie.parts[3],c.data.axie.parts[3],c.data.axie.parts[4],c.data.axie.parts[4],c.data.axie.parts[2],c.data.axie.parts[2],c.data.axie.parts[5],c.data.axie.parts[5]].map((function(e,t){return w(w({},e),{},{abilityId:e.abilities[0].id,id:t})})).map((function(e){return w(w({},e),{},{isUse:!1,isCritical:!1,hasEffect:!1,attackUp:null,attackDown:null,tank:0,speed:0,critical:0})})),n.loadDamage(e),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(4),console.log(r.t0);case 16:case"end":return r.stop()}}),r,null,[[4,13]])})))()},loadDamage:function(e){var t=this,details=this.axiesDetails[e],n=this.axiesCards[e].reduce((function(e,t){return t.isUse?e+1:e}),0)>=2;this.axiesCards[e].forEach((function(r,c){var l=Object(o.get)(y.d,r.abilityId,null),d={cardDamage:r.abilities[0].attack,cardEffect:r.hasEffect?l:null,axieClass:details.class,axieSkill:details.stats.skill,axieMorale:details.stats.morale,isCritical:r.isCritical,cardClass:r.class,isCombo:n};t.$set(t.axiesCards[e][c],"tank",r.isUse?t.calcDamage(w(w({},d),{},{counterType:t.calcCounterType(t.axiesCards[e][c].class,"tank")})):0),t.$set(t.axiesCards[e][c],"speed",r.isUse?t.calcDamage(w(w({},d),{},{counterType:t.calcCounterType(t.axiesCards[e][c].class,"speed")})):0),t.$set(t.axiesCards[e][c],"critical",r.isUse?t.calcDamage(w(w({},d),{},{counterType:t.calcCounterType(t.axiesCards[e][c].class,"critical")})):0)}))},calcDamage:function(e){var t=e.cardClass,n=void 0===t?null:t,r=e.counterType,c=void 0===r?null:r,l=e.cardDamage,d=void 0===l?null:l,f=e.cardEffect,m=void 0===f?null:f,x=e.axieClass,v=void 0===x?null:x,h=e.axieSkill,C=void 0===h?null:h,_=e.axieMorale,k=void 0===_?null:_,y=e.isCritical,O=void 0!==y&&y,w=e.isCombo,D=void 0!==w&&w;if(null!==d&&null!==v&&null!==C&&null!==k){if(0===d)return 0;var j=n==v,I=Object(o.get)(m,"type",null),$=Object(o.get)(m,"value",null),S=d;switch(c){case"advantage":S*=1.15;break;case"disadvantage":S*=.85}return j&&(S*=1.1),"PERCENTAGE"===I&&(S*=$),(O||"CRITICAL"===I)&&(S*=(10*Math.sqrt(k)+.4*k-18)/100+1),D&&(S+=.55*C-12.5),"STRIKE"===I?Math.floor(S)*$:Math.floor(S)}},calcCounterType:function(e,t){var n=["Beast","Bug","Mech"],r=["Aquatic","Bird","Dawn"],c=["Dusk","Plant","Reptile"];return n.includes(e)&&"critical"===t||r.includes(e)&&"speed"===t||c.includes(e)&&"tank"===t?null:n.includes(e)&&"tank"===t||c.includes(e)&&"speed"===t||r.includes(e)&&"critical"===t?"advantage":"disadvantage"}}},j=(n(785),n(31)),I=n.n(j),$=n(641),S=(n(25),n(71),n(787),n(724),n(91)),U=n(679);function E(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function T(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?E(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):E(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var A=n(742).a.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data:function(){return{inputIndeterminate:this.indeterminate}},computed:{classes:function(){return T(T({},U.a.options.computed.classes.call(this)),{},{"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate})},computedIcon:function(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState:function(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate:function(e){var t=this;this.$nextTick((function(){return t.inputIndeterminate=e}))},inputIndeterminate:function(e){this.$emit("update:indeterminate",e)},isActive:function(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(S.a,this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",T(T({},this.attrs$),{},{"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()})),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot:function(){return[this.genCheckbox(),this.genLabel()]}}}),P=n(718),M=n(819),R=n(723),V=n(171),L=n(719),N=n(813),z=Object(v.a)(D,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"damage_calculator mb_15"},[n("div",{staticClass:"\n      damage_calculator__container\n      custom_container custom_container_fluid\n    "},[n("DashboardPageHeader",{attrs:{title:e.$t("pages.damage_calculator.title")}}),e._v(" "),e._l(3,(function(i){return n("div",{key:i},[1!==i?n("v-divider",{staticClass:"my-10"}):e._e(),e._v(" "),e.axiesDetails["axie"+i]?n("v-img",{attrs:{src:e.axiesDetails["axie"+i].image,"max-width":"192px"}}):e._e(),e._v(" "),n("v-row",[n("v-col",{attrs:{cols:"12",md:"6",lg:"3"}},[n("v-text-field",{attrs:{"hide-details":"",label:"Axie "+i,placeholder:"1578813"},on:{blur:function(t){e.getAxieInfo("axie"+i,e.form["axie"+i]),e.makeUri()}},model:{value:e.form["axie"+i],callback:function(t){e.$set(e.form,"axie"+i,e._n(t))},expression:"form[`axie${i}`]"}})],1),e._v(" "),e.form["axie"+i]?n("v-col",{attrs:{cols:"12",md:"6",lg:"3"}},[n("v-btn",{attrs:{outlined:""},on:{click:function(t){return e.cleanTable("axie"+i)}}},[e._v("\n            "+e._s(e.$t("pages.damage_calculator.clean_table"))+"\n          ")])],1):e._e()],1),e._v(" "),e.axiesCards["axie"+i]?n("v-data-table",{staticClass:"mt-5 elevation-1",attrs:{headers:e.headers,items:e.axiesCards["axie"+i],"items-per-page":-1,"hide-default-footer":"","mobile-breakpoint":"0"},scopedSlots:e._u([{key:"header.critical",fn:function(t){t.item;return[n("div",{staticClass:"d-flex justify-center my-3"},e._l(e.axieClassesCritical,(function(e){return n("AxieClasses",{key:e,staticClass:"mx-2",attrs:{name:e,size:"32"}})})),1)]}},{key:"header.speed",fn:function(t){t.item;return[n("div",{staticClass:"d-flex justify-center my-3"},e._l(e.axieClassesSpeed,(function(e){return n("AxieClasses",{key:e,staticClass:"mx-2",attrs:{name:e,size:"32"}})})),1)]}},{key:"header.tank",fn:function(t){t.item;return[n("div",{staticClass:"d-flex justify-center my-3"},e._l(e.axieClassesTank,(function(e){return n("AxieClasses",{key:e,staticClass:"mx-2",attrs:{name:e,size:"32"}})})),1)]}},{key:"item.abilityId",fn:function(t){var r=t.item;return[n("div",{staticClass:"d-flex align-center"},[n("CardImage",{staticClass:"card_image mr-4",attrs:{cardItem:{id:r.abilityId,partName:r.abilities[0].name,skillName:r.name,class:r.class}}}),e._v(" "),n("AxieClasses",{attrs:{name:r.class.toLowerCase(),size:"32"}})],1)]}},{key:"item.use",fn:function(t){var r=t.item;t.index;return[n("v-checkbox",{attrs:{color:"white"},on:{change:function(t){return e.loadDamage("axie"+i)}},model:{value:r.isUse,callback:function(t){e.$set(r,"isUse",t)},expression:"item.isUse"}})]}},{key:"item.isCritical",fn:function(t){var r=t.item;t.index;return[r.isUse?n("v-checkbox",{attrs:{color:"white"},on:{change:function(t){return e.loadDamage("axie"+i)}},model:{value:r.isCritical,callback:function(t){e.$set(r,"isCritical",t)},expression:"item.isCritical"}}):e._e()]}},{key:"item.effect",fn:function(t){var r=t.item;t.index;return[r.isUse?n("v-checkbox",{attrs:{color:"white"},on:{change:function(t){return e.loadDamage("axie"+i)}},model:{value:r.hasEffect,callback:function(t){e.$set(r,"hasEffect",t)},expression:"item.hasEffect"}}):e._e()]}},{key:"item.attackUp",fn:function(t){var r=t.item;return[n("v-text-field",{staticStyle:{"max-width":"40px"},attrs:{type:"number",min:"0"},model:{value:r.attackUp,callback:function(t){e.$set(r,"attackUp",e._n(t))},expression:"item.attackUp"}})]}},{key:"item.attackDown",fn:function(t){var r=t.item;return[n("v-text-field",{staticStyle:{"max-width":"40px"},attrs:{type:"number",min:"0"},model:{value:r.attackDown,callback:function(t){e.$set(r,"attackDown",e._n(t))},expression:"item.attackDown"}})]}},{key:"item.tank",fn:function(e){var t=e.item;return[n("div",{staticClass:"d-flex flex-column justify-center align-center",class:{deactivate:!t.isUse}},[n("CardDamage",{attrs:{damage:t.tank}})],1)]}},{key:"item.speed",fn:function(e){var t=e.item;return[n("div",{staticClass:"d-flex flex-column justify-center align-center",class:{deactivate:!t.isUse}},[n("CardDamage",{attrs:{damage:t.speed}})],1)]}},{key:"item.critical",fn:function(e){var t=e.item;return[n("div",{staticClass:"d-flex flex-column justify-center align-center",class:{deactivate:!t.isUse}},[n("CardDamage",{attrs:{damage:t.critical}})],1)]}},{key:"body.append",fn:function(t){return[n("tr",{},[n("td",{staticClass:"text-start"}),e._v(" "),n("td",{staticClass:"text-start"}),e._v(" "),n("td",{staticClass:"text-start"}),e._v(" "),n("td",{staticClass:"text-start"}),e._v(" "),n("td",{staticClass:"text-center"},[n("div",{staticClass:"my-5 d-flex flex-column justify-center align-center"},[n("CardDamage",{attrs:{damage:e.axiesCards["axie"+i].reduce((function(e,t){return e+t.critical}),0)}})],1)]),e._v(" "),n("td",{staticClass:"text-center"},[n("div",{staticClass:"my-5 d-flex flex-column justify-center align-center"},[n("CardDamage",{attrs:{damage:e.axiesCards["axie"+i].reduce((function(e,t){return e+t.tank}),0)}})],1)]),e._v(" "),n("td",{staticClass:"text-center"},[n("div",{staticClass:"my-5 d-flex flex-column justify-center align-center"},[n("CardDamage",{attrs:{damage:e.axiesCards["axie"+i].reduce((function(e,t){return e+t.speed}),0)}})],1)])])]}}],null,!0)}):e._e()],1)}))],2)])}),[],!1,null,"1e2a21f8",null);t.default=z.exports;I()(z,{VBtn:$.a,VCheckbox:A,VCol:P.a,VDataTable:M.a,VDivider:R.a,VImg:V.a,VRow:L.a,VTextField:N.a})}}]);