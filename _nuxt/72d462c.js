(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{711:function(e,t,r){var content=r(769);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("942cbfd2",content,!0,{sourceMap:!1})},768:function(e,t,r){"use strict";r(711)},769:function(e,t,r){var n=r(14)(!1);n.push([e.i,".best_eggs[data-v-e9f5def6]{color:#b6c8ef}.breeding_egg[data-v-e9f5def6]{display:grid;grid-gap:24px;gap:24px;grid-template-columns:repeat(1,minmax(0,1fr))}@media screen and (min-width:576px){.breeding_egg[data-v-e9f5def6]{grid-template-columns:repeat(auto-fill,minmax(380px,1fr))}}.breeding_egg_item__egg[data-v-e9f5def6]{margin-bottom:12px}",""]),e.exports=n},808:function(e,t,r){"use strict";r.r(t);r(21),r(68),r(54),r(83),r(175),r(69),r(25),r(27),r(680),r(76),r(55),r(457),r(681),r(682),r(683),r(684),r(685),r(686),r(687),r(688),r(689),r(690),r(691),r(692),r(693),r(694),r(695),r(696),r(77);var n=r(8),o=(r(56),r(12)),c=r(45),d=r(3),l=r(671),f=r(697),m=r(709),v=r(660),_=r(723),h=r(725),y=r(726),O=r(672),j=r(659);function x(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function S(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(t){Object(d.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var P={name:"BestEggs",mixins:[m.a],head:function(){var title="".concat(this.$t("consts.TOOLS_URLS.best-egg.title")," | Axie tools"),e=this.$nuxtI18nHead({addSeoAttributes:!0});return{title:title,htmlAttrs:S({},e.htmlAttrs),meta:[].concat(Object(c.a)(Object(j.a)({title:title,description:this.$t("consts.TOOLS_URLS.best-egg.description")})),Object(c.a)(e.meta)),link:Object(c.a)(e.link)}},components:{DashboardPageHeader:v.a,BreedingItem:_.a,AxieItem:h.a,AxieFilters:y.a},data:function(){return{}},computed:{totalAxies:function(){return this.form.eggIds.split(",").length},breedingFounded:function(){return this.breedingSort(this.breedingFiltered(this.eggs))},breedingSelectedFounded:function(){return this.breedingSort(this.breedingFiltered(this.breedingSelected))}},mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.$route.query.egg_ids,!(n=void 0===r?null:r)){t.next=5;break}return e.form.eggIds=n,t.next=5,e.getAxies();case 5:case"end":return t.stop()}}),t)})))()},methods:{breedingSort:function(e){var t=e.slice();switch(this.form.sortBy){case"major_pure_gen_score":t=t.sort((function(a,b){return b.breeding.score-a.breeding.score}));break;case"major_pure_class_score":t=t.sort((function(a,b){return b.breeding.purityScore-a.breeding.purityScore}));break;case"minor_price":t=t.sort((function(a,b){return a.egg.currentPriceUSD-b.egg.currentPriceUSD}))}return t},breedingFiltered:function(e){var t=this,r=this.form.parts,n=r.eyes,o=r.ears,c=r.mouth,d=r.horn,l=r.back,f=r.tail,m=this.form,v=m.minAttack,_=m.minDefense,h=JSON.parse(JSON.stringify(e)),y=h;return n.isPurity&&o.isPurity&&c.isPurity&&d.isPurity&&l.isPurity&&f.isPurity&&this.form.anyScore,v&&(y=y.filter((function(e){return e.breeding.minAttack>=v}))),_&&(y=y.filter((function(e){return e.breeding.minDefense>=_}))),this.form.anyScore&&(y=h.filter((function(e){var r=e.breeding,n=r.purity,o=r.bestPart;return t.form.isPurity?n.eyes.value>=t.form.anyScore||n.ears.value>=t.form.anyScore||n.mouth.value>=t.form.anyScore||n.horn.value>=t.form.anyScore||n.back.value>=t.form.anyScore||n.tail.value>=t.form.anyScore:o.eyes.value>=t.form.anyScore||o.ears.value>=t.form.anyScore||o.mouth.value>=t.form.anyScore||o.horn.value>=t.form.anyScore||o.back.value>=t.form.anyScore||o.tail.value>=t.form.anyScore}))),n.score||o.score||c.score||d.score||l.score||f.score?y.filter((function(e){var t=e.breeding,r=t.purity,m=t.bestPart,v=n.isPurity?r.eyes.value:m.eyes.value,_=o.isPurity?r.ears.value:m.ears.value,h=c.isPurity?r.mouth.value:m.mouth.value,y=d.isPurity?r.horn.value:m.horn.value,O=l.isPurity?r.back.value:m.back.value,j=f.isPurity?r.tail.value:m.tail.value,x=[];return n.score&&x.push(v>=n.score),o.score&&x.push(_>=o.score),c.score&&x.push(h>=c.score),d.score&&x.push(y>=d.score),l.score&&x.push(O>=l.score),f.score&&x.push(j>=f.score),x.every((function(e){return!0===e}))})):y},getAxies:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,m,v,_,h,y,j,x;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,e.eggs=[],t.prev=2,r=Object(c.a)(new Set(e.form.eggIds.split(","))),t.next=6,Object(f.a)(Object(l.chunk)(r,8),function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(r){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$apollo.query(Object(O.a)(r));case 2:return o=t.sent,t.abrupt("return",Object.entries(o.data).reduce((function(e,t){var r=Object(n.a)(t,2),o=(r[0],r[1]);return[].concat(Object(c.a)(e),[o])}),[]));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 6:return m=t.sent,v=Object(c.a)(new Set(m.map((function(e){return e.sireId})))),_=Object(c.a)(new Set(m.map((function(e){return e.matronId})))),t.next=11,Object(f.a)(Object(l.chunk)(v,8),function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(r){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$apollo.query(Object(O.a)(r));case 2:return o=t.sent,t.abrupt("return",Object.entries(o.data).reduce((function(e,t){var r=Object(n.a)(t,2),o=(r[0],r[1]);return[].concat(Object(c.a)(e),[o])}),[]));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 11:return h=t.sent,t.next=14,Object(f.a)(Object(l.chunk)(_,8),function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(r){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$apollo.query(Object(O.a)(r));case 2:return o=t.sent,t.abrupt("return",Object.entries(o.data).reduce((function(e,t){var r=Object(n.a)(t,2),o=(r[0],r[1]);return[].concat(Object(c.a)(e),[o])}),[]));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 14:y=t.sent,j=h.reduce((function(e,t){return S(S({},e),{},Object(d.a)({},t.id,t))}),{}),x=y.reduce((function(e,t){return S(S({},e),{},Object(d.a)({},t.id,t))}),{}),e.eggs=m.map((function(t){var r=[e.loadGenesInfo(j[t.sireId]),e.loadGenesInfo(x[t.matronId])],o=r[0],c=r[1],d=e.breedingMap([o],[c]),f=Object(n.a)(d,1)[0];return{id:t.id,egg:S(S({},t),{},{currentPriceUSD:parseFloat(Object(l.get)(t,"auction.currentPriceUSD",0))}),breeding:f}})),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(2),console.log("error",Object.keys(t.t0),t.t0.message);case 23:e.isLoading=!1;case 24:case"end":return t.stop()}}),t,null,[[2,20]])})))()},loadBreegingEgg:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o,c,d,f,m;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$repositories.all.getAxieDetails(e);case 2:return o=r.sent,r.next=5,Promise.all([t.getAxie(o.sireId),t.getAxie(o.matronId)]);case 5:return c=r.sent,d=Object(n.a)(c,2),f=d[0],m=d[1],r.abrupt("return",{id:o.id,egg:S(S({},o),{},{currentPriceUSD:parseFloat(Object(l.get)(o,"auction.currentPriceUSD",0))}),breeding:t.breedingMap([f],[m])[0]});case 10:case"end":return r.stop()}}),r)})))()}}},w=(r(768),r(24)),k=r(31),I=r.n(k),A=r(641),D=r(703),$=r(708),R=r(704),F=r(800),component=Object(w.a)(P,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"best_eggs"},[r("div",{staticClass:"best_eggs__container custom_container custom_container_fluid"},[r("DashboardPageHeader",{attrs:{title:e.$t("pages.best_egg.title")}}),e._v(" "),r("form",{staticClass:"mb_2",on:{submit:function(t){return t.preventDefault(),e.getAxies(t)}}},[r("v-row",[r("v-col",{staticClass:"py_0 my_0",attrs:{cols:"12"}},[e._v("\n          "+e._s(e.$t("pages.best_egg.form_axie.title"))+"\n        ")]),e._v(" "),r("v-col",{attrs:{cols:"12",md:"6",lg:"3"}},[r("v-text-field",{attrs:{label:e.$t("pages.best_egg.form_axie.fields.egg_ids.label"),placeholder:"1578813,1578780,1559511"},model:{value:e.form.eggIds,callback:function(t){e.$set(e.form,"eggIds",t)},expression:"form.eggIds"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",md:"6",lg:"3"}},[r("v-btn",{staticClass:"text_transform_none",attrs:{color:"primary",type:"submit",loading:e.isLoading,disabled:e.isLoading}},[e._v("\n            "+e._s(e.$t("pages.best_egg.form_axie.btn_search"))+"\n          ")])],1)],1)],1),e._v(" "),r("AxieFilters",{attrs:{filters:e.form}}),e._v(" "),e.breedingSelectedFounded.length>0?r("div",{staticClass:"breeding_egg mt_6"},e._l(e.breedingSelectedFounded,(function(t){return r("div",{key:t.egg.id,staticClass:"breeding_egg_item"},[r("AxieItem",{staticClass:"breeding_egg_item__egg",attrs:{axie:t.egg}}),e._v(" "),r("BreedingItem",{attrs:{breedingItem:t.breeding,options:e.form},on:{toggle:function(r){return e.toggleBreeding(t)}}})],1)})),0):e._e(),e._v(" "),r("v-divider",{staticClass:"my_6"}),e._v(" "),e.isLoading?r("span",[e._v(" "+e._s(e.$t("pages.best_egg.loading"))+"... ")]):[0===e.breedingFounded.length?r("div",[e._v("\n        "+e._s(e.$t("pages.best_egg.no_items"))+"\n      ")]):[r("div",{staticClass:"breeding_egg"},e._l(e.breedingFounded,(function(t){return r("div",{key:t.egg.id,staticClass:"breeding_egg_item"},[r("AxieItem",{staticClass:"breeding_egg_item__egg",attrs:{axie:t.egg}}),e._v(" "),r("BreedingItem",{attrs:{breedingItem:t.breeding,options:e.form},on:{toggle:function(r){return e.toggleBreeding(t)}}})],1)})),0)]]],2)])}),[],!1,null,"e9f5def6",null);t.default=component.exports;I()(component,{VBtn:A.a,VCol:D.a,VDivider:$.a,VRow:R.a,VTextField:F.a})}}]);